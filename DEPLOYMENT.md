# üöÄ Deploying Infralith to Azure

This document outlines the steps to deploy the Infralith platform to **Azure Static Web Apps** or **Azure App Service**.

## Option 1: Azure Static Web Apps (Recommended)

Infralith is pre-configured with a GitHub Actions workflow for Azure Static Web Apps.

### Steps:
1.  **Create a Static Web App in Azure**:
    *   Go to the [Azure Portal](https://portal.azure.com).
    *   Search for "Static Web Apps" and click **Create**.
    *   Select your GitHub repository and the `main` branch.
    *   For **Build Presets**, select **Next.js**.
2.  **Configure GitHub Secrets**:
    *   Azure will automatically add a secret called `AZURE_STATIC_WEB_APPS_API_TOKEN` to your GitHub repository.
    *   You must manually add the following environment variables as GitHub Secrets (Settings > Secrets and variables > Actions):
        *   `NEXT_PUBLIC_FIREBASE_API_KEY`
        *   `NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN`
        *   `NEXT_PUBLIC_FIREBASE_PROJECT_ID`
        *   `AZURE_OPENAI_ENDPOINT`
        *   `AZURE_OPENAI_KEY`
        *   `AZURE_DOCUMENT_INTELLIGENCE_ENDPOINT`
        *   `AZURE_DOCUMENT_INTELLIGENCE_KEY`
3.  **Deploy**:
    *   Push any change to the `main` branch to trigger the deployment.

## Option 2: Azure App Service (Linux)

If you prefer a full Node.js environment:

### Steps:
1.  **Create a Web App**:
    *   Publishing: **Code**.
    *   Runtime stack: **Node 20 LTS**.
    *   Operating System: **Linux**.
2.  **Environment Variables**:
    *   Go to **Configuration** in the Azure Portal and add all variables from your `.env.local`.
3.  **Deployment**:
    *   You can set up GitHub Actions via the **Deployment Center** in the portal.

## üõ°Ô∏è Best Practices
*   **NextAuth URL**: Ensure `NEXTAUTH_URL` is set to your production URL (e.g., `https://infralith.azurestaticapps.net`).
*   **Security**: Never commit your `.env.local` file. Always use Azure Key Vault or Environment Variables for sensitive data.

--- 
*Generated by Infralith Intelligence Agent*
